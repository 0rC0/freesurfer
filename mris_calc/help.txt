
    NAME         

          mris_calc      

    SYNOPSIS        

          mris_calc [OPTIONS]					\\
          	<curvFile1> <ACTION> [<curvFile2> | <floatNumber>] 

    DESCRIPTION        

	'mris_calc' is a simple calculator that operates on FreeSurfer 
	curvature files.

	In most cases, the calculator functions with three arguments:
        two inputs and an <ACTION> linking them. Some actions, however,
        operate with only one input <curvFile1>.

        In all cases, the first input <curvFile1> is the name of a FreeSurfer 
        curvature file.

        For two inputs, the calculator first assumes that the second input
        is the name of a second curvature file. If, however, this second input
        is not found on the filesystem, the calculator attempts to parse this
        input as a float number, which is then processed according to <ACTION>.

    OPTIONS         

    	--output <outputCurvFile>
   	 -o <outputCurvFile>

    	By default, 'mris_calc' will save the output curvature to a file
    	in the current working directory called 'out.crv'. This name can be
	set to something more meaningful with the '--output' option.

    	--version
    	-v

	Print out version number.     

    	--verbosity <value>

	Set the verbosity of the program. Any positive value will trigger
	verbose output, displaying intermediate results. The <value> can be
	set arbitrarily. Useful mostly for debugging.

    ACTION

	The action to be perfomed on the two curvature files. This is a 
	text string that defines the mathematical operation to execute. For two
	inputs, this action is applied in an indexed element-by-element fashion,
	i.e. <curvFile1>[n] <ACTION> <curvFile2>[n] where 'n' is an index 
	counter.

	ACTION  INPUTS OUTPUTS	                EFFECT
	  mul	   2      1     <outputCurvFile> = <curvFile1> * <curvFile2>
	  div	   2	  1     <outputCurvFile> = <curvFile1> / <curvFile2>
	  add      2	  1	<outputCurvFile> = <curvFile1> + <curvFile2>
	  sub	   2	  1     <outputCurvFile> = <curvFile1> - <curvFile2>
	  set	   2	  1     <outputCurvFile> = <curvFile2>

          size     1      0     print the size of <curvFile1>
          min      1      0     print the min value (and index) of <curvFile1>
          max      1      0     print the max value (and index) of <curvFile1>
          mean     1      0     print the mean value of <curvFile1>
          std      1      0     print the standard deviation of <curvFile1>
          stats    1      0     process 'size', 'min', 'max', 'mean', 'std'

	The 'set' command is somewhat different in that for practical purposes
	the contents of <curvFile1> are ignored. It is still important to
	specifiy a valid <curvFile1> since it is parsed by 'mris_calc'
	to determine the size of output curvature file to create. In most
	instances, <curvFile2> will denote a float value, and not an actual
	curvature file, i.e. 'mris_calc set rh.pial 0.005' will create
	an output curvature, 'out.crv' of the same size as rh.pial, and with
	each element set to 0.005.

        Note also that the standard deviation can suffer from float rounding
        errors and is only accurate to 4 digits of precision.

    ARBITRARY FLOATS AS SECOND INPUT ARGUMENT

	If a second input argument is specified, 'mris_calc' will attempt to
        open the argument following <ACTION> as if it were a curvature file. 
        Should this file not exist, 'mricurc_calc' will attempt to parse the 
        argument as if it were a float value.

	In such a case, 'mris_calc' will create a dummy internal
	curvature file and set all its elements to this float value.

    NOTES         

	<curvFile1> and <curvFile2> should typically be generated on the
	same subject.

    EXAMPLES        

    	$>mris_calc rh.pial mul rh.thickness    

	Multiply each value in <rh.pial> with the corresponding value
	in <rh.thickness>, creating a new file called 'out.crv' that
	contains the result.

    	$>mris_calc --output rh.weightedCortex rh.pial mul rh.thickness    

	Same as above, but give the ouput file the more meaningful name
	of 'rh.weightedCortex'.

        $>mris_calc rh.pial max
       
        Determine the maximum value in 'rh.pial' and print to stdout. In
        addition to the max value, the index offset in 'rh.pial' containing
        this value is also printed.

        $>mris_calc rh.pial stats

        Determine the size, min, max, mean, and std of 'rh.pial'.

    ADVANCED EXAMPLES

	Consider the case when calculating the right hemisphere pseudo volume
	formed by the FreeSurfer generated white matter 'rh.area' curvature 
	file, and the cortical thickness, 'rh.thickness'. Imagine this is to 
	be expressed as a percentage of intercranial volume.

	$>mris_calc -o rh.cortexVol rh.area mul rh.thickness
	Calculate the volume and store in a curvature format:

	Now, find the intercranial volume (ICV) in the corresponding output 
	file generated by FreeSurfer for this subject. Assume ICV = 100000.

	$>mris_calc -o rh.cortexVolICV rh.cortexVol div 100000
	Here the second <ACTION> argument is a number and not a curvature file.

	We could have achieved the same effect by first creating an
	intermediate curvature file, 'rh.ICV' with each element set to 
	the ICV, and then divided by this curvature:

	$>mris_calc -o rh.ICV rh.area set 100000
	$>mris_calc -o rh.cortexVolICV rh.cortexVol div rh.ICV


